# 性能基准

性能因特定操作和数据库后端而异。以下是基于基准测试的一些常规观察：

## 小数据集操作（1,000 条记录）

| 操作 | rhosocial ActiveRecord | SQLAlchemy | Django ORM | Peewee |
|-----------|-------------------|------------|------------|--------|
| 简单检索 | 快 | 中等 | 快 | 最快 |
| 复杂查询 | 中等 | 快 | 中等 | 快 |
| 批量插入 | 快 | 快 | 快 | 快 |
| 单个插入 | 快 | 慢 | 中等 | 最快 |
| 验证密集 | 快 | 慢 | 中等 | 慢 |

## 大数据集操作（100,000+ 条记录）

| 操作 | rhosocial ActiveRecord | SQLAlchemy | Django ORM | Peewee |
|-----------|-------------------|------------|------------|--------|
| 简单检索 | 中等 | 快 | 慢 | 中等 |
| 复杂查询 | 中等 | 最快 | 慢 | 快 |
| 批量插入 | 快 | 快 | 中等 | 快 |
| 单个插入 | 中等 | 慢 | 慢 | 快 |
| 验证密集 | 中等 | 慢 | 慢 | 慢 |

## 内存使用（相对比较）

| 场景 | rhosocial ActiveRecord | SQLAlchemy | Django ORM | Peewee |
|----------|-------------------|------------|------------|--------|
| 加载 10,000 条记录 | 中等 | 高 | 高 | 低 |
| 复杂对象层次结构 | 中等 | 高 | 高 | 低 |
| 验证开销 | 中等 | 低 | 低 | 低 |

## 异步性能

| 场景 | rhosocial ActiveRecord | SQLAlchemy | Django ORM | Peewee-Async |
|----------|-------------------|------------|------------|--------------|
| 并发操作 | 优秀 | 良好 | 有限 | 良好 |
| 连接效率 | 优秀 | 良好 | 中等 | 良好 |
| 资源利用 | 高效 | 中等 | 低效 | 中等 |

## 主要观察结果

- Peewee 由于其轻量级设计，通常具有最低的内存占用
- SQLAlchemy 因其查询优化而在复杂查询方面表现出色
- rhosocial ActiveRecord 提供平衡的性能，同时具有验证优势
- Django ORM 在大型数据集上可能较慢，但对于典型的 Web 应用负载表现良好
- rhosocial ActiveRecord 中的 Pydantic 验证增加了一些开销，但在早期防止了数据问题
- 在异步场景中，rhosocial ActiveRecord 的设计为并发操作提供了出色的性能